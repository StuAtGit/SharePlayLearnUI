<!--
/**
 * Copyright 2015-2016 Stuart Smith
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * any later version. Or under the the Eclipse Public License v1.0
 * as published by the Eclipse Foundation or (per the licensee's choosing)
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 *
 * If you modify this Program, or any covered work, by linking or combining
 * it with the paho MQTT client library (or a modified version of that library),
 * containing parts covered by the terms of EPL,
 * the licensors of this Program grant you additional permission to convey the resulting work.
 */
-->

<!-- position:fixed, so it loads in the users view, but overflow:scroll, so they can still scroll -->
<div style="z-index:9999;position:fixed;overflow:scroll;background:rgba( 0, 0, 0, 0.8 );width:100%;height:100%">
    <div width="100%">
        <a href="" ng-click="modal.closeModal()"
           style="text-align:center;text-decoration: none;
           color:#ffffff; margin-left:1em;top:3.5em;position:relative">Close Image</a>
    </div>
    <div>
        <a download="{{ modalItem.itemLocation.substring(
                                    modalItem.itemLocation.lastIndexOf('/') + 1
                                 ) }}"
           ng-href="data:application/octect-stream;base64,{{user_info.itemCache[modalItem.itemLocation]}}">
        <img style="position:relative;margin-top:4em;margin-left:1em;margin-right:1em;max-width:90%;max-height:90%"
             ng-if="modalImage.imageData"
             src="data:image/jpeg;base64,{{modalImage.imageData}}"
             alt="{{modalImage.altText}}">
        </a>
        <div style="color:#ffffff; margin-left:6em;margin-top:4.5em"
             ng-if="!modalImage.imageData">
            Loading Image...
        </div>
    </div>
</div>